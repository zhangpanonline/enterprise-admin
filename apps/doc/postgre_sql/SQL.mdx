---
sidebar_position: 0
title: 常用 SQL
---

##  1. 创建表时添加注释

```sql
CREATE TABLE product(  
    id int NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
    create_time TIMESTAMP WITHOUT TIME ZONE,
    name VARCHAR(255)
);
COMMENT ON TABLE product IS '产品表';
COMMENT ON COLUMN product.id IS '主键，自增ID';
COMMENT ON COLUMN product.create_time IS '创建时间';
```

:::note
`GENERATED AS IDENTITY` 表示自增，相当于 `MySQL` 中的 `AUTO_INCREMENT`；

`GENERATED BY DEFAULT AS IDENTITY` 表示默认自增，但可以手动插入

`GENERATED ALLWAYS AS IDENTITY` 表示总是自增

* generated：生成
* identity：身份

:::

<Image src="/postgresql/0.1.png" /> 

## 2. 日期、时间关键字
| 类型名                                           | 是否包含日期 | 是否包含时间 | 是否带时区 | 常见用途                 | MySQL 对应类型        |
 | ------------------------------------------------ | ------------ | ------------ | ---------- | ------------------------ | --------------------- |
 | `DATE`                                           | ✅            | ❌            | ❌          | 仅日期（2025-11-04）     | `DATE`                |
 | `TIME`                                           | ❌            | ✅            | 可选       | 一天中的时间（13:45:00） | `TIME`                |
| `TIMESTAMP WITHOUT TIME ZONE`                    | ✅            | ✅            | ❌          | 最常用的时间戳           | `DATETIME`            |
| `TIMESTAMP WITH TIME ZONE`（简写 `TIMESTAMPTZ`） | ✅            | ✅            | ✅          | 记录带时区时间（推荐）   | `TIMESTAMP`（带时区） |

## 3. 向已有表中添加字段

```sql
ALTER TABLE "product" ADD COLUMN "description" varchar(255);
```

<Image src="/postgresql/0.3.png" /> 
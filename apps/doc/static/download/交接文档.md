# 工作交接（2025-05 —— 2025-10）

## 一. 广西电量管理助手小程序

> 项目经理：田星月  
> 前端参与人：祁茹  
> 后端开发：乔宇强  

### 项目搭建

项目根据 [snail-uni](https://hu-snail.github.io/snail-uni/guide/intro.html) 进行搭建，所有相关技术可以在 [snail-uni](https://hu-snail.github.io/snail-uni/guide/intro.html) 文档找到。

### 项目目录如下：

```bash
env                 环境变量文件
src                 业务代码
├─apis              接口请求地址
├─layouts           默认布局页面
├─pages             主包页面
│  ├─home           电量填报页
│  ├─monitor        电量监测页
│  ├─my             我的页面
│  └─points         积分页面
├─router            路由鉴权逻辑
├─static            静态资源
├─store             当前登录用户信息
├─sub-pages         分包模块
│  ├─apis           分包页面下对应的接口
│  ├─login          登录页
│  ├─privacyProtocol 用户隐私
│  ├─register       注册页
│  └─serviceProtocol 服务协议
├─types             类型定义，不需要修改，自动生成
├─uni_modules       组件
│  ├─qiun-data-charts   图表组件
│  │  ├─qiun-data-charts
│  │  ├─qiun-error
│  │  ├─qiun-loading
│  │  └─u-charts
│  ├─wu-calendar    日历组件
│  │  └─components
│  │      ├─i18n
│  │      ├─wu-calendar
│  │      ├─wu-calendar-block
│  │      └─wu-calendar-item
│  └─wu-ui-tools    日历组件依赖项，不可删除
└─utils             工具库
```

### 注意点：

根据业务需求，日历组件需要和图表联动起来，在展示图表时需要把日历下的日期替换为图表，并且可以通过月份切换不通数据，所以直接在 `wu-calendar` 源码修改了，因此这里的 `wu-calendar` 不能更新升级。

## 二. 浏览器抢单插件

> 项目经理：田星月  
> 前端参与人：张锐

1. 只负责了 `市场摘牌` 页面的开发，页面地址：`src\views\marketListing\index.vue`，具体业务看代码。
2. `集中竞价` 页面出现了部分接口通过 `background` 后台请求时，报错：`ERR_NETWORK`，为了解决此问题，并且最小化改动，所有在后台请求的接口都通过前台 `content` 注入到浏览器页面去请求，拿到结果后再通过插件的事件监听传递给 `background`。  
具体代码位置可以全局搜索 `ActionType.REQUEST_PROXY`(后台接口转发到前台进行请求) 和 `ActionType.OFF_SCREEN_REQUEST_PROXY`(offscreen接口转发到后台,后台再转发前台请求)，用到这两个常量类型的，都是这样解决的。


## 三. 河北邯郸项目

> 项目经理：王永杰  
> 代码分支：glink3.1_he_bei_han_dan

在三代 `glink3.1` 分支上拉取新分支进行修改，由于只做两个页面开发以及其他小改动，并且要合并到三代正式环境进行演示，为了后期演示完删除这些代码，因此所有改动的地方都使用 `localStorage.$GLINK_username === '"admin-handan"'` 进行逻辑判断，只要全局搜索 `localStorage.$GLINK_username === '"admin-handan"'` 就知道改动了哪里。

登录账号密码：`admin-handan`、`admin`，由于邯郸没有数据，为了看页面效果，账号暂时挂在内蒙组织下。

目前只做了前端页面，由于需要接客户真实数据，暂时没有，所以没进行接口对接。


## 四. 广西华能 PC 端站点数据

> 项目经理：王永杰  
> 后端开发：王芳云  
> 代码分支：glink3.1_guangxi

添加 `运营监控-调度指令监测页面` 简单的一个查看页面。